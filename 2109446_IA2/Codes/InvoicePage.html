<!DOCTYPE html>

<html>

	<head>
		<title> Invoice Page </title>

        <style>

<style>
        body {
            background-color: #f2f2f2; 
            font-family: Arial, sans-serif; 
            color: #333; 
        }

        #invoice {
            width: 80%;
            margin: 0 auto;
            padding: 20px;
            background-color: #ffffff; 
            border-radius: 10px; 
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); 
        }

        #invoice h2 {
            text-align: center;
            color: #28560a; 
            border-bottom: 2px solid #4CAF50; 
            padding-bottom: 10px; 
            font-family: 'Garamond', serif;
            font-size: 2.5em;
        }

        #invoice table {
            width: 100%;
            border-collapse: collapse; 
            margin-bottom: 20px;
        }

        #invoice th,
        #invoice td {
            border: 1px solid #ddd; 
            padding: 10px; 
            text-align: center;
        }

        #invoice th {
            background-color: #6c6840; 
            color: white; 
        }

        #invoice tr:nth-child(even) {
            background-color: #f9f9f9; 
        }

        #invoice tr:hover {
            background-color: #f1f1f1; 
        }

        #invoice p {
            font-size: 1.1em; 
            font-weight: normal; 
            text-align: right; 
        }

        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
        }

        .button {
            background-color: #4CAF50; 
            color: white;
            padding: 10px 20px; 
            border: none; 
            border-radius: 5px; 
            cursor: pointer;
            transition: background-color 0.3s; 
        }

        .button:hover {
            background-color: #45a049; 
        }

        .cancel-button {
            background-color: #d48b0d; /* Orange background for cancel */
        }

        .cancel-button:hover {
            background-color: #bf790f; /* Darker orange on hover */
        }

        .exit-button {
            background-color: #f44336; /* Red background */
        }

        .exit-button:hover {
            background-color: #d32f2f; /* Darker red on hover */
        }

        footer {
            background-color: #85e085; 
            color: #4d4d33; 
            text-align: center; 
            padding: 10px 0; 
            width: 100%; 
            position: relative; 
        }

        .footer-content {
            width: 60%; 
            margin: 0 auto; 
        }

        footer p {
            margin: 5px 0; 
            font-size: 0.9em; 
        }


        </style>





        <script>

            // Function to display invoice data
            function displayInvoice() {
                const invoiceData = JSON.parse(localStorage.getItem('invoiceData'));

                if (!invoiceData) {
                    document.getElementById("invoice").innerHTML = "<h2>No Invoice Data Found</h2>";
                    return;
                }

                let invoiceHTML = "<h2>INVOICE</h2><table><tr><th>Product</th><th>Qty</th><th>Price</th></tr>";

                invoiceData.products.forEach(product => {
                    const totalPrice = product.price * product.qty;
                    invoiceHTML += `<tr><td>${product.name}</td><td>${product.qty}</td><td>$${totalPrice.toFixed(2)}</td></tr>`;
                });

                invoiceHTML += `</table>
                                <p><strong>Subtotal:</strong> <span style="margin-left: 50px;"> $${invoiceData.subtotal.toFixed(2)}</p>
                                <p><strong>Taxes (15%):</strong> <span style="margin-left: 60px;"> $${invoiceData.tax.toFixed(2)}</p>
                                <p><strong>Discount(10% for orders over $10000):</strong> <span style="margin-left: 80px;"> $${invoiceData.discount.toFixed(2)}</p>
                                <p><strong>Total:</strong> <span style="margin-left: 50px;"> $${invoiceData.total.toFixed(2)}</p>`;

                document.getElementById("invoice").innerHTML = invoiceHTML;
            }

            // Call the displayInvoice function when the page loads
            window.onload = displayInvoice;

            // Function to handle button clicks
            function cancelInvoice() {
                if (confirm("Are you sure you want to cancel this invoice?")) {
                    // Clear the invoice data from local storage
                    localStorage.removeItem('invoiceData');
                    // Redirect to products page
                    window.location.href = 'ProductsPage.html';
                }
            }

            function exitInvoice() {
                if (confirm("Are you sure you want to exit?")) {
                    window.location.href = 'LoginPage.html'; 
                } 
            }

            
        </script>



	</head>



	<body bgcolor = "#ebebe0" link="#4d4d33" vlink="#4d4d33">

        <img src = "../Assets/KemLogo.png" height="125" width="350" align="left" >

		<table border= "0" align="center" height="125" width="70%" bgcolor="#85e085" cellspacing="10" cellpadding="25">
		<tr align = "center">
            <th> <a href="LoginPage.html" target="blank" style="font-size: 20px"> LOGIN </th>
            <th> <a href="ProductsPage.html" target="blank" style="font-size: 20px"> PRODUCTS </th> 
             
            <th> <a href="AboutUsPage.html" target="blank" style="font-size: 20px"> ABOUT US </th> 
        </tr>
        </table></br></br>
        
        <!--Displaying Invoice-->
        <div id="invoice"></div>

        <!--Cancel and Exit buttons-->
        <div class="action-buttons">
            <button class="button cancel-button" onclick="cancelInvoice()">Cancel</button>
            <button class="button exit-button" onclick="exitInvoice()">Exit</button>
        </div></br></br></br></br></br>

        <footer>
            <div class="footer-content">
                <p>&copy; 2024 Kemone's Organic Skincare. All rights reserved.</p></br>
                <p> <u> Contact Us </u></p>
                <p> Contact Number: (876)382-0452 </p>
                <p> Email: kemonelaws12@gmail.com </p>
            </div>
        </footer>

	</body>
</html>
