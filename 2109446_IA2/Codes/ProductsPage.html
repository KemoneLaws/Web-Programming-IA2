<!DOCTYPE html>

<html>

	<head>
		<title> Products Page </title>

        <style>

            .gallery 
            {
                display: flex;
                flex-wrap: wrap;
                gap: 20px;
                justify-content: center;
            }

            .gallery-section 
            {
                width: 100%;
                margin: 30px 0;
            }

            .gallery-section h1 
            {
                text-align: center;
            }

            .gallery-item 
            {
                width: 350px;
                text-align: center;
            }

            .gallery-item img 
            {
                width: 100%;
                height: auto;
                border-radius: 8px;
            }

            .gallery-item h3 
            {
                font-size: 1.1em;
                margin: 10px 0 5px;
            }

            .gallery-item p 
            {
                font-size: 0.9em;
                color: #555;
            }

            .price 
            {
                font-weight: bold; 
                margin: 5px 0; 
            }

            .cart-control 
            {
                display: flex;
                justify-content: center;
                align-items: center;
                gap: 10px;
                margin: 10px 0;
            }

            .cart-control input[type="number"] 
            {
                width: 60px;
                padding: 5px;
                font-size: 1em;
            }

            .button 
            {
                background-color: #4CAF50;
                border: none;
                color: white;
                padding: 8px 16px;
                text-align: center;
                text-decoration: none;
                display: inline-block;
                font-size: 16px;
                cursor: pointer;
                border-radius: 5px;
                transition: background-color 0.3s ease;
            }

            .button:hover 
            {
                background-color: #134d16;
            }

            .cancel-button {
                background-color: #d48b0d; 
            }

            .cancel-button:hover {
                background-color: #bf790f; 
            }

            .exit-button {
            background-color: #f44336; 
            }

            .exit-button:hover {
                background-color: #d32f2f; 
            }

            /* Styles for Checkout, Cancel, and Exit buttons container */
            .action-buttons 
            {
                display: flex;
                justify-content: center;
                gap: 20px;
                margin: 30px 0;
            }

            /* Styles for Cart section */
            #invoice 
            {
                width: 80%;
                margin: 0 auto;
                padding: 20px;
                background-color: #f9f9f9;
                border: 2px solid #ccc;
                border-radius: 8px;
            }

            #invoice h2 
            {
                text-align: center;
            }

            #invoice table 
            {
                width: 100%;
                border-collapse: collapse;
                margin-bottom: 20px;
            }

            #invoice th,
            #invoice td {
                border: 1px solid #ddd;
                padding: 8px;
                text-align: center;
            }

            #invoice th 
            {
                background-color: #f2f2f2;
            }

            /* Media Query for Smaller Screens */
            @media (max-width: 768px) 
            {
                .gallery-item {
                    width: 100%; /* Make each gallery item full width on smaller screens */
                }

                .gallery {
                    gap: 20px; 
                }

                .gallery-section h1 {
                    font-size: 1.5em; 
                }
            }

            .gallery-item ul 
            {
                list-style-type: disc;
                list-style-position: inside; 
                padding-left: 0;
                color: #555;
                font-size: 0.95em;
                margin: 10px auto; 
                display: inline-block; 
                text-align: left; 
            }

            footer {
            background-color: #85e085; 
            color: #4d4d33; 
            text-align: center; 
            padding: 10px 0; 
            width: 100%; 
            position: relative; 
            }

            .footer-content {
                width: 60%; 
                margin: 0 auto; 
            }

            footer p {
                margin: 5px 0; 
                font-size: 0.9em; 
            }

            .discount-message {
                margin-top: 20px; 
                text-align: center; 
                font-size: 1em; 
            }

            .gallery-section h1 {
                color: rgb(57, 50, 21); 
            }

        </style>




        <script>

            // Global arrays to keep track of products and quantities
            const products = 
            [
                { name: "Turmeric Soap", price: 1500, qty: 0 },
                { name: "Charcoal Soap", price: 1500, qty: 0 },
                { name: "Eucalyptus Soap", price: 2000, qty: 0 },
                { name: "Aloe Vera Tea Tree Soap", price: 2000, qty: 0 },
                { name: "Rose Soap", price: 1800, qty: 0 },
                { name: "Coconut Soap", price: 1800, qty: 0 },
                { name: "Coconut Body Butter", price: 3500, qty: 0 },
                { name: "Almond Body Butter", price: 4000, qty: 0 },
                { name: "Turmeric Lip Balm", price: 900, qty: 0 }
            ];

            let subtotal = 0;
            const taxRate = 0.15; // 15% tax
            const discountRate = 0.10; // 10% discount for orders above $10000

            // Function to initialize the invoice
            function initializeInvoice() 
            {
                const savedCart = localStorage.getItem('cart'); // Get saved cart data from localStorage
                if (savedCart) {
                    // If cart data exists, parse and restore it
                    const cartData = JSON.parse(savedCart);
                    products.forEach((product, index) => {
                        if (cartData[index]) {
                            product.qty = cartData[index].qty; // Set the product quantities from the saved cart
                        }
                    });
                    updateInvoice(); // Update the invoice with restored data
                } else {
                    // If no cart data exists, show empty cart message
                    document.getElementById("invoice").innerHTML = "<h2>Cart Information</h2> </br> <center><p>Your cart is empty.</p></center>";
                }
            }

            // Function to add product to cart
            function addToCart(index) 
            {
                const qtyInput = document.getElementById(`qty${index}`);
                let qty = parseInt(qtyInput.value);
                if (isNaN(qty) || qty <= 0) 
                {
                    alert("Please enter a valid quantity.");
                    return;
                }
                products[index].qty += qty;
                qtyInput.value = ''; 
                updateInvoice();

                // Scroll to the cart section
                document.getElementById("invoice").scrollIntoView({ behavior: 'smooth' });

                // Save the updated cart to localStorage
                saveCartToLocalStorage(); // This line was added to save the cart to localStorage
            }


            // Function to update information in cart
            function updateInvoice() 
            {
                subtotal = 0;
                let invoiceHTML = "<h2>Cart</h2><table><tr><th>Product</th><th>Qty</th><th>Price</th></tr>";

                products.forEach(product => {
                    if (product.qty > 0) 
                    {
                        const totalPrice = product.price * product.qty;
                        invoiceHTML += `<tr><td>${product.name}</td><td>${product.qty}</td><td>$${totalPrice.toFixed(2)}</td></tr>`;
                        subtotal += totalPrice;
                    }
                });
                
                // Calculate taxes and discounts
                const taxes = subtotal * taxRate;
                let discount = 0;
                if (subtotal > 10000) 
                {
                    discount = subtotal * discountRate;
                }
                const total = subtotal + taxes - discount;

                invoiceHTML += `</table>
                            <p><strong>Subtotal:</strong> <span style="margin-left: 30px;"> $${subtotal.toFixed(2)}</p> </br>
                            <p class="discount-message">You get 10% discount for orders over $10000</p>`; 
                            
            

                document.getElementById("invoice").innerHTML = invoiceHTML;
            }


            // Function to handle checkout
            function checkOut() 
            {
                if (subtotal === 0) {
                    alert("Your cart is empty!");
                    return;
                }

                // Save invoice data to localStorage
                const invoiceData = {
                    products: products.filter(product => product.qty > 0),
                    subtotal: subtotal,
                    tax: subtotal * taxRate,
                    discount: subtotal > 10000 ? subtotal * discountRate : 0,
                    total: subtotal + (subtotal * taxRate) - (subtotal > 10000 ? subtotal * discountRate : 0)
                };
                localStorage.setItem('invoiceData', JSON.stringify(invoiceData));

                // Redirect to Invoice Page 
                window.location.href = "InvoicePage.html";
            }


            // Function to cancel
            function cancelCart() 
            {
                if (confirm("Are you sure you want to cancel your cart?")) {
                    products.forEach(product => product.qty = 0); 
                    updateInvoice(); // Update invoice display
                    localStorage.removeItem('cart'); // Clear saved cart in localStorage
                }
            }

            // Function to exit
            function exitPage() {
                if (confirm("Are you sure you want to exit?")) {
                    window.location.href = 'LoginPage.html'; 
                }
            }


            // Initialize the invoice when the page loads
            window.onload = initializeInvoice; 

            function saveCartToLocalStorage() 
            {
                localStorage.setItem('cart', JSON.stringify(products)); // Save the products array to localStorage
            }


        </script>



	</head>



	<body bgcolor = "#ebebe0" link="#4d4d33" vlink="#4d4d33">

        <a name="top"></a>

        <img src = "../Assets/KemLogo.png" height="125" width="350" align="left" >

		<table border= "0" align="center" height="125" width="70%" bgcolor="#85e085" cellspacing="10" cellpadding="25">
		<tr align = "center">
            <th> <a href="LoginPage.html" target="blank" style="font-size: 20px"> LOGIN </th>
            <th> <a href="ProductsPage.html" target="blank" style="font-size: 20px"> PRODUCTS </th> 
            
            <th> <a href="AboutUsPage.html" target="blank" style="font-size: 20px"> ABOUT US </th> 
        </tr>
        </table></br></br>


        <center> <video src="../Assets/SkincareVideo.mov" width="85%" height="85%" autoplay loop muted> </video> </center> </br></br></br></br></br>

        <!-- Soap-->
        <div class="gallery-section">
            <h1>Soaps</h1>
            <div class="gallery">
                <!-- Top Row of 3 Images for Soap -->
                <div class="gallery-item">
                    <img src="../Assets/TurmericSoap.jpg" alt="Soap 1">
                    <h3>Turmeric Soap</h3>
                    <p class="price">$1500.00</p>
                    <ul>
                        <li>Rich in natural turmeric extract</li>
                        <li>Helps in skin brightening</li>
                        <li>Gentle on sensitive skin</li>
                    </ul>
                    <div class="cart-control">
                        <input type="number" id="qty0" min="1" placeholder="Qty"> 
                        <button class="button" onclick="addToCart(0)">Add to Cart</button> <!-- Add to Cart button -->
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="../Assets/CharcoalSoap.webp" alt="Soap 2">
                    <h3>Charcoal Soap</h3>
                    <p class="price">$1500.00</p>
                    <ul>
                        <li>Activated charcoal for deep cleansing.</li>
                        <li>Helps control oily skin</li>
                        <li>Good for acne-prone skin.</li>
                    </ul> 
                    <div class="cart-control">
                        <input type="number" id="qty1" min="1" placeholder="Qty"> 
                        <button class="button" onclick="addToCart(1)">Add to Cart</button> <!-- Add to Cart button -->
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="../Assets/EucalyptusSoap.webp" alt="Soap 3">
                    <h3>Eucalyptus Soap</h3>
                    <p class="price">$2000.00</p>
                    <ul>
                        <li>Infused with eucalyptus oil.</li>
                        <li>Refreshes and rejuvenates skin.</li>
                        <li>Ideal for sensitive skin.</li>
                    </ul>
                    <div class="cart-control">
                        <input type="number" id="qty2" min="1" placeholder="Qty"> 
                        <button class="button" onclick="addToCart(2)">Add to Cart</button> <!-- Add to Cart button -->
                    </div>
                </div>
            </div>

            </br></br></br></br>

            <div class="gallery">
                <!-- Bottom Row of 3 Images for Soap -->
                <div class="gallery-item">
                    <img src="../Assets/AloeTeaTreeSoap.jpg" alt="Soap 4">
                    <h3>Aloe Vera Tea Tree Soap</h3>
                    <p class="price">$2000.00</p>
                    <ul>
                        <li>Contains soothing aloe vera.</li>
                        <li>Tea tree oil for acne treatment.</li>
                        <li>Moisturizes while cleansing.</li>
                    </ul>
                    <div class="cart-control">
                        <input type="number" id="qty3" min="1" placeholder="Qty"> 
                        <button class="button" onclick="addToCart(3)">Add to Cart</button> <!-- Add to Cart button -->
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="../Assets/RoseSoap.webp" alt="Soap 5">
                    <h3>Rose Soap</h3>
                    <p class="price">$1800.00</p>
                    <ul>
                        <li>Made with natural rose extract.</li>
                        <li>Hydrates and nourishes skin.</li>
                        <li>Light floral scent.</li>
                    </ul>
                    <div class="cart-control">
                        <input type="number" id="qty4" min="1" placeholder="Qty"> 
                        <button class="button" onclick="addToCart(4)">Add to Cart</button> <!-- Add to Cart button -->
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="../Assets/CoconutSoap.jpg" alt="Soap 6">
                    <h3>Coconut Soap</h3>
                    <p class="price">$1800.00</p>
                    <ul>
                        <li>Rich in coconut oil.</li>
                        <li>Provides deep moisture.</li>
                        <li>Delicate tropical fragrance.</li>
                    </ul>
                    <div class="cart-control">
                        <input type="number" id="qty5" min="1" placeholder="Qty"> 
                        <button class="button" onclick="addToCart(5)">Add to Cart</button> <!-- Add to Cart button -->
                    </div>
                </div>
            </div>
        </div> </br></br></br></br></br></br>

        <!-- Body Butter-->
        <div class="gallery-section">
            <h1>Body Butters</h1>
            <div class="gallery">
                <div class="gallery-item">
                    <img src="../Assets/CoconutBodyButter.webp" alt="Body Butter 1">
                    <h3>Coconut Body Butter</h3>
                    <p class="price">$3500.00</p>
                    <ul>
                        <li>Moisturizes dry skin.</li>
                        <li>Contains natural coconut oil.</li>
                        <li>Leaves skin soft and smooth.</li>
                    </ul>    
                    <div class="cart-control">
                        <input type="number" id="qty6" min="1" placeholder="Qty"> 
                        <button class="button" onclick="addToCart(6)">Add to Cart</button> <!-- Add to Cart button -->
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="../Assets/AlmondBodyButter.webp" alt="Body Butter 2">
                    <h3>Almond Body Butter</h3>
                    <p class="price">$4000.00</p>
                    <ul>
                        <li>Rich in vitamin E.</li>
                        <li>Ideal for dry and sensitive skin.</li>
                        <li>Fast-absorbing formula.</li>
                    </ul>
                    <div class="cart-control">
                        <input type="number" id="qty7" min="1" placeholder="Qty"> 
                        <button class="button" onclick="addToCart(7)">Add to Cart</button> <!-- Add to Cart button -->
                    </div>
                </div>
            </div>
        </div> </br></br></br></br></br></br>

        <!-- Lips Section -->
        <div class="gallery-section">
            <h1>Lips</h1>
            <div class="gallery">
                <div class="gallery-item">
                    <img src="../Assets/TurmericLipBalm.webp" alt="Lip Product">
                    <h3>Turmeric Lip Balm</h3>
                    <p class="price">$900.00</p>
                    <ul>
                        <li>Natural ingredients for soft lips.</li>
                        <li>Lightens dark lips.</li>
                        <li>Moisturizes and protects.</li>
                    </ul>
                    <div class="cart-control">
                        <input type="number" id="qty8" min="1" placeholder="Qty"> 
                        <button class="button" onclick="addToCart(8)">Add to Cart</button> <!-- Add to Cart button -->
                    </div>
                </div>
            </div>
        </div> </br></br></br>


        <!-- Cart Section -->
        <div id="invoice"></div>


        <div class="action-buttons">
            <button class="button" onclick="checkOut()">Checkout</button>
            <button class="button cancel-button" onclick="cancelCart()">Cancel</button>
            <button class="button exit-button" onclick="exitPage()">Exit</button>
        </div></br></br></br></br></br>

        <center> <a href="#top"> <mark>Go to Top of Page</mark> </a>  </center></br></br></br>

        <footer>
            <div class="footer-content">
                <p>&copy; 2024 Kemone's Organic Skincare. All rights reserved.</p></br>
                <p> <u> Contact Us </u></p>
                <p> Contact Number: (876)382-0452 </p>
                <p> Email: kemonelaws12@gmail.com </p>
            </div> 
        </footer>

        

	</body>
</html>
